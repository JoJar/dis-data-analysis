<?xml version="1.0" encoding="utf-8"?><text name="103083 Асинхронная обработка задач: MS SQL" parent="604" id="2564"><tags><tag>url:http://yakov-sirotkin.livejournal.com/103083.html</tag></tags><paragraphs><paragraph id="22283"><sentence id="66206"><source>Асинхронная обработка задач: MS SQL</source><tokens><token text="Асинхронная" id="1205519"><tfr t="Асинхронная" rev_id="2832289"><v><l t="асинхронный" id="18354"><g v="ADJF"></g><g v="femn"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="обработка" id="1205520"><tfr t="обработка" rev_id="2832290"><v><l t="обработка" id="198758"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="задач" id="1205521"><tfr t="задач" rev_id="2832291"><v><l t="задача" id="101455"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="plur"></g><g v="gent"></g></l></v></tfr></token><token text=":" id="1205522"><tfr t=":" rev_id="2832292"><v><l t=":" id="0"><g v="PNCT"></g></l></v></tfr></token><token text="MS" id="1205523"><tfr t="MS" rev_id="2832293"><v><l t="MS" id="0"><g v="LATN"></g></l></v></tfr></token><token text="SQL" id="1205524"><tfr t="SQL" rev_id="2832294"><v><l t="SQL" id="0"><g v="LATN"></g></l></v></tfr></token></tokens></sentence></paragraph><paragraph id="22284"><sentence id="66207"><source>В моём докладе про асинхронную обработку задач есть маленький не совсем тривиальный технический вопрос: как брать из очереди задачи так, чтобы каждая выполнилась только один раз и чтобы обработка шла в много потоков.</source><tokens><token text="В" id="1205525"><tfr t="В" rev_id="2832295"><v><l t="в" id="37409"><g v="PREP"></g></l></v></tfr></token><token text="моём" id="1205526"><tfr t="моём" rev_id="3702917"><v><l t="мой" id="162570"><g v="ADJF"></g><g v="Apro"></g><g v="masc"></g><g v="sing"></g><g v="loct"></g></l></v></tfr></token><token text="докладе" id="1205527"><tfr t="докладе" rev_id="2832297"><v><l t="доклад" id="87236"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="loct"></g></l></v></tfr></token><token text="про" id="1205528"><tfr t="про" rev_id="2832298"><v><l t="про" id="277024"><g v="PREP"></g></l></v></tfr></token><token text="асинхронную" id="1205529"><tfr t="асинхронную" rev_id="2832299"><v><l t="асинхронный" id="18354"><g v="ADJF"></g><g v="femn"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="обработку" id="1205530"><tfr t="обработку" rev_id="2832300"><v><l t="обработка" id="198758"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="задач" id="1205531"><tfr t="задач" rev_id="2832301"><v><l t="задача" id="101455"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="plur"></g><g v="gent"></g></l></v></tfr></token><token text="есть" id="1205532"><tfr t="есть" rev_id="4372081"><v><l t="есть" id="37265"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="sing"></g><g v="3per"></g><g v="pres"></g><g v="indc"></g></l></v><v><l t="есть" id="37265"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="plur"></g><g v="3per"></g><g v="pres"></g><g v="indc"></g></l></v></tfr></token><token text="маленький" id="1205533"><tfr t="маленький" rev_id="2832303"><v><l t="маленький" id="153694"><g v="ADJF"></g><g v="Qual"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="маленький" id="153694"><g v="ADJF"></g><g v="Qual"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="не" id="1205534"><tfr t="не" rev_id="2832304"><v><l t="не" id="178876"><g v="PRCL"></g></l></v></tfr></token><token text="совсем" id="1205535"><tfr t="совсем" rev_id="2832305"><v><l t="совсем" id="328223"><g v="ADVB"></g></l></v></tfr></token><token text="тривиальный" id="1205536"><tfr t="тривиальный" rev_id="2832306"><v><l t="тривиальный" id="350018"><g v="ADJF"></g><g v="Qual"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="тривиальный" id="350018"><g v="ADJF"></g><g v="Qual"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="технический" id="1205537"><tfr t="технический" rev_id="2832307"><v><l t="технический" id="345946"><g v="ADJF"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="технический" id="345946"><g v="ADJF"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="вопрос" id="1205538"><tfr t="вопрос" rev_id="2832308"><v><l t="вопрос" id="50830"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="вопрос" id="50830"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text=":" id="1205539"><tfr t=":" rev_id="2832309"><v><l t=":" id="0"><g v="PNCT"></g></l></v></tfr></token><token text="как" id="1205540"><tfr t="как" rev_id="2832310"><v><l t="как" id="128190"><g v="CONJ"></g></l></v><v><l t="как" id="128191"><g v="PRCL"></g></l></v><v><l t="как" id="128192"><g v="ADVB"></g><g v="Ques"></g></l></v></tfr></token><token text="брать" id="1205541"><tfr t="брать" rev_id="2832311"><v><l t="брать" id="33653"><g v="INFN"></g><g v="impf"></g><g v="tran"></g></l></v></tfr></token><token text="из" id="1205542"><tfr t="из" rev_id="3329136"><v><l t="из" id="117677"><g v="PREP"></g></l></v></tfr></token><token text="очереди" id="1205543"><tfr t="очереди" rev_id="4343746"><v><l t="очередь" id="221692"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="sing"></g><g v="gent"></g></l></v></tfr></token><token text="задачи" id="1205544"><tfr t="задачи" rev_id="3819880"><v><l t="задача" id="101455"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="plur"></g><g v="accs"></g></l></v></tfr></token><token text="так" id="1205545"><tfr t="так" rev_id="2832315"><v><l t="так" id="342451"><g v="CONJ"></g></l></v><v><l t="так" id="342452"><g v="PRCL"></g></l></v><v><l t="так" id="342453"><g v="ADVB"></g><g v="Dmns"></g></l></v></tfr></token><token text="," id="1205546"><tfr t="," rev_id="2832316"><v><l t="," id="0"><g v="PNCT"></g></l></v></tfr></token><token text="чтобы" id="1205547"><tfr t="чтобы" rev_id="2832317"><v><l t="чтобы" id="377013"><g v="CONJ"></g></l></v><v><l t="чтобы" id="377014"><g v="PRCL"></g></l></v></tfr></token><token text="каждая" id="1205548"><tfr t="каждая" rev_id="4430368"><v><l t="каждый" id="127875"><g v="ADJF"></g><g v="Subx"></g><g v="Apro"></g><g v="femn"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="выполнилась" id="1205549"><tfr t="выполнилась" rev_id="2832319"><v><l t="выполнился" id="60631"><g v="VERB"></g><g v="perf"></g><g v="intr"></g><g v="femn"></g><g v="sing"></g><g v="past"></g><g v="indc"></g></l></v></tfr></token><token text="только" id="1205550"><tfr t="только" rev_id="3784957"><v><l t="только" id="347395"><g v="CONJ"></g></l></v><v><l t="только" id="347396"><g v="PRCL"></g></l></v><v><l t="только" id="390053"><g v="ADVB"></g></l></v></tfr></token><token text="один" id="1205551"><tfr t="один" rev_id="4300040"><v><l t="один" id="203319"><g v="ADJF"></g><g v="Apro"></g><g v="Anum"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="один" id="203319"><g v="ADJF"></g><g v="Apro"></g><g v="Anum"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="раз" id="1205552"><tfr t="раз" rev_id="2832322"><v><l t="раз" id="291499"><g v="ADVB"></g></l></v><v><l t="раз" id="291500"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="раз" id="291500"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v><v><l t="раз" id="291500"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="plur"></g><g v="gent"></g></l></v><v><l t="раз" id="291501"><g v="CONJ"></g></l></v></tfr></token><token text="и" id="1205553"><tfr t="и" rev_id="2832323"><v><l t="и" id="116949"><g v="CONJ"></g></l></v><v><l t="и" id="116950"><g v="INTJ"></g></l></v></tfr></token><token text="чтобы" id="1205554"><tfr t="чтобы" rev_id="2832324"><v><l t="чтобы" id="377013"><g v="CONJ"></g></l></v><v><l t="чтобы" id="377014"><g v="PRCL"></g></l></v></tfr></token><token text="обработка" id="1205555"><tfr t="обработка" rev_id="2832325"><v><l t="обработка" id="198758"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="шла" id="1205556"><tfr t="шла" rev_id="2832326"><v><l t="иду" id="117566"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="femn"></g><g v="sing"></g><g v="past"></g><g v="indc"></g></l></v></tfr></token><token text="в" id="1205557"><tfr t="в" rev_id="2832327"><v><l t="в" id="37409"><g v="PREP"></g></l></v></tfr></token><token text="много" id="1205558"><tfr t="много" rev_id="4176616"><v><l t="много" id="389079"><g v="NUMR"></g><g v="nomn"></g></l></v><v><l t="много" id="389079"><g v="NUMR"></g><g v="accs"></g></l></v></tfr></token><token text="потоков" id="1205559"><tfr t="потоков" rev_id="3715925"><v><l t="поток" id="263275"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="plur"></g><g v="gent"></g></l></v></tfr></token><token text="." id="1205560"><tfr t="." rev_id="2832330"><v><l t="." id="0"><g v="PNCT"></g></l></v></tfr></token></tokens></sentence><sentence id="66208"><source>Я в последнее время работаю с Oracle, поэтому слайд с кусочком кода у меня был только для него, но теперь есть решение и для MS SQL:</source><tokens><token text="Я" id="1205561"><tfr t="Я" rev_id="2832331"><v><l t="я" id="387317"><g v="NPRO"></g><g v="1per"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="в" id="1205562"><tfr t="в" rev_id="2832332"><v><l t="в" id="37409"><g v="PREP"></g></l></v></tfr></token><token text="последнее" id="1205563"><tfr t="последнее" rev_id="3809355"><v><l t="последний" id="261565"><g v="ADJF"></g><g v="neut"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="последний" id="261565"><g v="ADJF"></g><g v="neut"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="время" id="1205564"><tfr t="время" rev_id="4164783"><v><l t="время" id="53149"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="работаю" id="1205565"><tfr t="работаю" rev_id="2832335"><v><l t="работаю" id="290502"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="sing"></g><g v="1per"></g><g v="pres"></g><g v="indc"></g></l></v></tfr></token><token text="с" id="1205566"><tfr t="с" rev_id="2832336"><v><l t="с" id="311151"><g v="PREP"></g></l></v></tfr></token><token text="Oracle" id="1205567"><tfr t="Oracle" rev_id="2832337"><v><l t="Oracle" id="0"><g v="LATN"></g></l></v></tfr></token><token text="," id="1205568"><tfr t="," rev_id="2832338"><v><l t="," id="0"><g v="PNCT"></g></l></v></tfr></token><token text="поэтому" id="1205569"><tfr t="поэтому" rev_id="2832339"><v><l t="поэтому" id="265490"><g v="ADVB"></g></l></v></tfr></token><token text="слайд" id="1205570"><tfr t="слайд" rev_id="2832340"><v><l t="слайд" id="324637"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="слайд" id="324637"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="с" id="1205571"><tfr t="с" rev_id="2832341"><v><l t="с" id="311151"><g v="PREP"></g></l></v></tfr></token><token text="кусочком" id="1205572"><tfr t="кусочком" rev_id="2832342"><v><l t="кусочек" id="145670"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="ablt"></g></l></v></tfr></token><token text="кода" id="1205573"><tfr t="кода" rev_id="2832343"><v><l t="код" id="135279"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="gent"></g></l></v><v><l t="кода" id="135281"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="у" id="1205574"><tfr t="у" rev_id="3333373"><v><l t="у" id="352818"><g v="PREP"></g></l></v></tfr></token><token text="меня" id="1205575"><tfr t="меня" rev_id="4350985"><v><l t="я" id="387317"><g v="NPRO"></g><g v="1per"></g><g v="sing"></g><g v="gent"></g></l></v></tfr></token><token text="был" id="1205576"><tfr t="был" rev_id="2832346"><v><l t="есть" id="37265"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="masc"></g><g v="sing"></g><g v="past"></g><g v="indc"></g></l></v></tfr></token><token text="только" id="1205577"><tfr t="только" rev_id="3784958"><v><l t="только" id="347395"><g v="CONJ"></g></l></v><v><l t="только" id="347396"><g v="PRCL"></g></l></v><v><l t="только" id="390053"><g v="ADVB"></g></l></v></tfr></token><token text="для" id="1205578"><tfr t="для" rev_id="3463299"><v><l t="для" id="85032"><g v="PREP"></g></l></v></tfr></token><token text="него" id="1205579"><tfr t="него" rev_id="4350986"><v><l t="он" id="206541"><g v="NPRO"></g><g v="masc"></g><g v="3per"></g><g v="Anph"></g><g v="Anph"></g><g v="sing"></g><g v="gent"></g><g v="Af-p"></g></l></v><v><l t="оно" id="206649"><g v="NPRO"></g><g v="neut"></g><g v="3per"></g><g v="Anph"></g><g v="Anph"></g><g v="sing"></g><g v="gent"></g><g v="Af-p"></g></l></v></tfr></token><token text="," id="1205580"><tfr t="," rev_id="2832350"><v><l t="," id="0"><g v="PNCT"></g></l></v></tfr></token><token text="но" id="1205581"><tfr t="но" rev_id="2832351"><v><l t="но" id="191429"><g v="CONJ"></g></l></v><v><l t="но" id="191430"><g v="INTJ"></g></l></v></tfr></token><token text="теперь" id="1205582"><tfr t="теперь" rev_id="2832352"><v><l t="теперь" id="344864"><g v="ADVB"></g></l></v></tfr></token><token text="есть" id="1205583"><tfr t="есть" rev_id="4393413"><v><l t="есть" id="37265"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="sing"></g><g v="3per"></g><g v="pres"></g><g v="indc"></g></l></v><v><l t="есть" id="37265"><g v="VERB"></g><g v="impf"></g><g v="intr"></g><g v="plur"></g><g v="3per"></g><g v="pres"></g><g v="indc"></g></l></v></tfr></token><token text="решение" id="1205584"><tfr t="решение" rev_id="4104466"><v><l t="решение" id="307350"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="nomn"></g></l></v></tfr></token><token text="и" id="1205585"><tfr t="и" rev_id="2832355"><v><l t="и" id="116949"><g v="CONJ"></g></l></v><v><l t="и" id="116950"><g v="INTJ"></g></l></v></tfr></token><token text="для" id="1205586"><tfr t="для" rev_id="3463212"><v><l t="для" id="85032"><g v="PREP"></g></l></v></tfr></token><token text="MS" id="1205587"><tfr t="MS" rev_id="2832357"><v><l t="MS" id="0"><g v="LATN"></g></l></v></tfr></token><token text="SQL" id="1205588"><tfr t="SQL" rev_id="2832358"><v><l t="SQL" id="0"><g v="LATN"></g></l></v></tfr></token><token text=":" id="1205589"><tfr t=":" rev_id="2832359"><v><l t=":" id="0"><g v="PNCT"></g></l></v></tfr></token></tokens></sentence></paragraph><paragraph id="22285"><sentence id="66209"><source>Прошу прощения, возникли споры по поводу моего права публиковать это решение.</source><tokens><token text="Прошу" id="1205590"><tfr t="Прошу" rev_id="2832360"><v><l t="прошу" id="284318"><g v="VERB"></g><g v="impf"></g><g v="tran"></g><g v="sing"></g><g v="1per"></g><g v="pres"></g><g v="indc"></g></l></v></tfr></token><token text="прощения" id="1205591"><tfr t="прощения" rev_id="3709538"><v><l t="прощение" id="287900"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="gent"></g></l></v></tfr></token><token text="," id="1205592"><tfr t="," rev_id="2832362"><v><l t="," id="0"><g v="PNCT"></g></l></v></tfr></token><token text="возникли" id="1205593"><tfr t="возникли" rev_id="2832363"><v><l t="возник" id="49521"><g v="VERB"></g><g v="perf"></g><g v="intr"></g><g v="plur"></g><g v="past"></g><g v="indc"></g></l></v></tfr></token><token text="споры" id="1205594"><tfr t="споры" rev_id="4227541"><v><l t="спор" id="332735"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="plur"></g><g v="nomn"></g></l></v><v><l t="спор" id="332735"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="plur"></g><g v="accs"></g></l></v><v><l t="спора" id="332736"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="plur"></g><g v="nomn"></g></l></v><v><l t="спора" id="332736"><g v="NOUN"></g><g v="inan"></g><g v="femn"></g><g v="plur"></g><g v="accs"></g></l></v></tfr></token><token text="по" id="1205595"><tfr t="по" rev_id="2832365"><v><l t="по" id="241240"><g v="PREP"></g></l></v></tfr></token><token text="поводу" id="1205596"><tfr t="поводу" rev_id="3812076"><v><l t="повод" id="242551"><g v="NOUN"></g><g v="inan"></g><g v="masc"></g><g v="sing"></g><g v="datv"></g></l></v></tfr></token><token text="моего" id="1205597"><tfr t="моего" rev_id="4102259"><v><l t="мой" id="162570"><g v="ADJF"></g><g v="Apro"></g><g v="neut"></g><g v="sing"></g><g v="gent"></g></l></v></tfr></token><token text="права" id="1205598"><tfr t="права" rev_id="4203842"><v><l t="право" id="265680"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="gent"></g></l></v></tfr></token><token text="публиковать" id="1205599"><tfr t="публиковать" rev_id="2832369"><v><l t="публиковать" id="288831"><g v="INFN"></g><g v="impf"></g><g v="tran"></g></l></v></tfr></token><token text="это" id="1205600"><tfr t="это" rev_id="4443260"><v><l t="это" id="386574"><g v="PRCL"></g></l></v><v><l t="это" id="386575"><g v="NPRO"></g><g v="neut"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="это" id="386575"><g v="NPRO"></g><g v="neut"></g><g v="sing"></g><g v="accs"></g></l></v><v><l t="этот" id="386581"><g v="ADJF"></g><g v="Subx"></g><g v="Apro"></g><g v="Anph"></g><g v="neut"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="этот" id="386581"><g v="ADJF"></g><g v="Subx"></g><g v="Apro"></g><g v="Anph"></g><g v="neut"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="решение" id="1205601"><tfr t="решение" rev_id="2832371"><v><l t="решение" id="307350"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="nomn"></g></l></v><v><l t="решение" id="307350"><g v="NOUN"></g><g v="inan"></g><g v="neut"></g><g v="sing"></g><g v="accs"></g></l></v></tfr></token><token text="." id="1205602"><tfr t="." rev_id="2832372"><v><l t="." id="0"><g v="PNCT"></g></l></v></tfr></token></tokens></sentence></paragraph></paragraphs></text>